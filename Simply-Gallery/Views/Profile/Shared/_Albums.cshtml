@using Simply_Gallery.Models.Gallery;
@model IEnumerable<Album>

<div id="album-conteiner">
    @if (Model.Count() == 0)
    {
        <div class="album-null">
            @if (!IsAjax)
            {
                <p>У вас пока нету альбомов ;(</p>
            }
            else
            {
                <p>По вашему запросу ничего не найдено ;(</p>
            }
            <img src="@Url.Content("~/Content/profile/img/empty-album.jpg")" alt=":(" title="Альбомов нет" />
        </div>
    }
    else
    {
        <div id="albums" class="albums">
            @foreach (var album in Model)
            {
                <div class="album">

                    <div class="album-image">
                        @if (album.Photos.Count() == 0)
                        {
                            <img src="@Url.Content("~/Content/profile/img/noroot.png")" alt="Фото альбома" title="В альбоме нету фотографий">
                        }
                        else
                        {
                            <img class="img-load" src="@Url.Action("GetPhoto", new { photoId = album.Photos.Last().Id })" alt="Фото альбома" title="Последняя фотография в альбоме">
                        }

                    </div>

                    <div class="album-name" style="cursor:default">
                        <h4><strong>Название альбома:</strong></h4>
                        <h4 title="Название альбома">@album.Name</h4>
                    </div>

                    <div class="album-description">
                        <h4><strong>Описание альбома:</strong></h4>
                        <p class="info-desc" title="Описание альбома">@album.Description</p>
                    </div>

                    <div class="album-bottom">
                        <div class="album-buttons">
                            <button class="btn btn-primary" onclick="location.href='@Url.Action("Album", new { albumId = album.Id })'" title="Перейти к альбому">
                                Перейти <i class="far fa-arrow-alt-circle-right"></i>
                            </button>
                            
                            <button class="btn btn-primary" onclick="location.href='@Url.Action("EditAlbum", new { albumId = album.Id })'" title="Изменить альбом">
                                Изменить <i class="far fa-edit"></i>
                            </button>
                            
                            <button class="btn btn-primary" onclick="deleteAction('@Url.Action("DeleteAlbum", new { albumId = album.Id })')" data-toggle="modal" data-target="#deleteModal" title="Удалить альбом">
                                Удалить <i class="far fa-trash-alt"></i>
                            </button>
                        </div>

                        <div class="album-date">
                            @if (album.Date != null)
                            {
                                <small>@album.Date.Value.ToShortDateString()</small>
                            }
                        </div>

                    </div>

                </div>
            }
        </div>
    }
</div>